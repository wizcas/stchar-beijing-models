---
rule_name: 详细示例和错误纠正
rule_key: 示例,错误纠正,参考文档
version: 1
rule_type: 参考文档
filename: EXAMPLES.md
---

# 详细示例和错误纠正

本文档包含所有详细的代码示例和常见错误纠正。

> **说明**：这是参考文档，日常工作中应主要参考 `plot-log-quick.md` 和 `status-quick.md`

## 📋 目录

1. [Plot-Log 完整示例](#plot-log-完整示例)
2. [常见错误纠正](#常见错误纠正)
3. [关联字段更新详解](#关联字段更新详解)
4. [推进选项示例](#推进选项示例)

---

## Plot-Log 完整示例

### 首次女模出场

```json
<plot-log>
{
  "追加": {
    "状态栏.历史.女模": ["六花"]
  },
  "记下": {
    "状态栏.世界.出场女模": ["六花"],
    "状态栏.女模.六花": {
      "想法": "这就是那个新摄影师吗？",
      "关系": {
        "堕落度": 0,
        "堕落度描述": "坚守底线",
        "好感度": 10,
        "好感度描述": "初次接触"
      },
      "外型": {
        "五官": "精致的五官",
        "发型": "齐肩黑长直发",
        "穿搭": "简约白T恤",
        "身高": 170,
        "体重": 50,
        "胸围": 86,
        "腰围": 60,
        "臀围": 90,
        "罩杯": "C"
      },
      "职业": {
        "类型": ["学生", "兼职模特"],
        "层级": "新手",
        "方向": "专业",
        "尺度": "清纯",
        "人设": ["文艺少女", "知性"]
      },
      "性爱": {
        "性癖": [],
        "性经验次数": 0,
        "动情程度": 0
      }
    },
    "状态栏.user.拍摄任务.六花--2024-12-28-1430": {
      "状态": "未开始",
      "模特": "六花",
      "目标": "商业写真集",
      "期限": "2024-12-28 14:30",
      "报酬": 2500,
      "特殊要求": "无"
    }
  }
}
</plot-log>
```

### 中途更新

```json
<plot-log>
{
  "记下": {
    "状态栏.女模.六花.想法": "他的指导很专业"
  },
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15",
    "状态栏.女模.六花.关系.堕落度": "+5"
  },
  "记下": {
    "状态栏.女模.六花.关系.好感度描述": "对摄影师的专业素养赞赏",
    "状态栏.女模.六花.关系.堕落度描述": "受到金钱诱惑",
    "状态栏.user.拍摄任务.六花--2024-12-28-1430": {
      "状态": "进行中",
      "模特": "六花",
      "目标": "商业写真集",
      "期限": "2024-12-28 14:30",
      "报酬": 2500,
      "特殊要求": "无"
    }
  }
}
</plot-log>
```

### 动情程度突破阈值

```json
<plot-log>
{
  "调整": {
    "状态栏.女模.六花.性爱.动情程度": "+15"
  },
  "记下": {
    "状态栏.女模.六花.性爱.乳房": "因兴奋而挺立，乳头泛红",
    "状态栏.女模.六花.性爱.小穴": "逐渐湿润，渴望被触碰",
    "状态栏.女模.六花.性爱.肛门": "因紧张而略微收缩"
  }
}
</plot-log>
```

---

## 常见错误纠正

### ❌ 错误 1：使用 YAML 格式

```json
// 错误
{
  "记下": {
    "状态栏.世界.出场女模": [
      "六花",
      "梦瑶"
    ]
  }
}

// 正确
{
  "记下": {
    "状态栏.世界.出场女模": ["六花", "梦瑶"]
  }
}
```

### ❌ 错误 2：任务不完整（缺少字段）

```json
// 错误：只有 2 个字段
{
  "记下": {
    "状态栏.user.拍摄任务.六花--2024-12-28-1430": {
      "状态": "进行中",
      "模特": "六花"
    }
  }
}

// 正确：全部 6 个字段
{
  "记下": {
    "状态栏.user.拍摄任务.六花--2024-12-28-1430": {
      "状态": "进行中",
      "模特": "六花",
      "目标": "商业写真集",
      "期限": "2024-12-28 14:30",
      "报酬": 5000,
      "特殊要求": "无"
    }
  }
}
```

### ❌ 错误 3：任务 Key 格式错误

```json
// 错误：单破折号
"状态栏.user.拍摄任务.六花-2024-12-28-1430"

// 正确：双破折号
"状态栏.user.拍摄任务.六花--2024-12-28-1430"
```

### ❌ 错误 4：调整操作的数据类型错误

```json
// 错误：使用数字
{
  "调整": {
    "状态栏.user.资金": -2500
  }
}

// 正确：使用字符串
{
  "调整": {
    "状态栏.user.资金": "-2500"
  }
}
```

### ❌ 错误 5：推进选项数量或比例错误

```json
// 错误 1：只有 2 个选项（不足 4 个）
{
  "记下": {
    "状态栏.推进选项": [
      { "emoji": "📸", "选项": "拍摄 A", "方向": "积极" },
      { "emoji": "💰", "选项": "提高报酬", "方向": "消极" }
    ]
  }
}

// 错误 2：比例不对（3 积极 + 1 消极）
{
  "记下": {
    "状态栏.推进选项": [
      { "emoji": "📸", "选项": "拍摄 A", "方向": "积极" },
      { "emoji": "💬", "选项": "拍摄 B", "方向": "积极" },
      { "emoji": "🎨", "选项": "拍摄 C", "方向": "积极" },
      { "emoji": "💰", "选项": "提高报酬", "方向": "消极" }
    ]
  }
}

// 正确：恰好 4 个（2 积极 + 2 消极）
{
  "记下": {
    "状态栏.推进选项": [
      { "emoji": "📸", "选项": "继续拍摄，争取更好效果", "方向": "积极" },
      { "emoji": "💬", "选项": "和六花深入沟通", "方向": "积极" },
      { "emoji": "💰", "选项": "提高报酬诱惑", "方向": "消极" },
      { "emoji": "⏭️", "选项": "结束拍摄，改天再来", "方向": "消极" }
    ]
  }
}
```

### ❌ 错误 6：遗漏关联字段更新

```json
// 错误：只更新好感度，遗漏描述
{
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15"
  }
}

// 正确：同时更新数值和描述
{
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15"
  },
  "记下": {
    "状态栏.女模.六花.关系.好感度描述": "对摄影师的专业风格欣赏，逐渐产生好感"
  }
}
```

### ❌ 错误 7：动作重复

```json
// 错误："记下" 和 "调整" 重复
{
  "记下": {
    "状态栏.女模.六花.想法": "新想法"
  },
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15"
  },
  "记下": {  // 错误！"记下"重复了
    "状态栏.女模.梦瑶.想法": "另一个想法"
  }
}

// 正确：合并所有 "记下" 操作
{
  "记下": {
    "状态栏.女模.六花.想法": "新想法",
    "状态栏.女模.梦瑶.想法": "另一个想法"
  },
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15"
  }
}
```

### ❌ 错误 8：使用繁体中文字段名（🔴 严禁）

```json
// ❌ 严禁：繁体中文字段名
{
  "記下": {
    "狀態欄.女模.六花.想法": "新想法",
    "狀態欄.女模.六花.關係.好感度描述": "對攝影師的專業素養贊賞"
  },
  "調整": {
    "狀態欄.女模.六花.關係.好感度": "+15",
    "狀態欄.女模.六花.關係.墮落度": "+5"
  },
  "追加": {
    "狀態欄.女模.六花.性愛.性癖": ["角色扮演"]
  }
}

// ✅ 正确：简体中文字段名
{
  "记下": {
    "状态栏.女模.六花.想法": "新想法",
    "状态栏.女模.六花.关系.好感度描述": "对摄影师的专业素养赞赏"
  },
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15",
    "状态栏.女模.六花.关系.堕落度": "+5"
  },
  "追加": {
    "状态栏.女模.六花.性爱.性癖": ["角色扮演"]
  }
}
```

**关键点**：
- ❌ 严禁：`記下`、`調整`、`追加`、`狀態欄`、`關係`、`性愛`、`墮落度`、`動情程度`
- ✅ 必须：`记下`、`调整`、`追加`、`状态栏`、`关系`、`性爱`、`堕落度`、`动情程度`
- 验证方法：所有中文必须能在简体中文输入法下直接输入

---

## 关联字段更新详解

### 1. User 堕落度更新

```json
// ❌ 错误
{
  "调整": {
    "状态栏.user.堕落度": "+10"
  }
}

// ✅ 正确
{
  "调整": {
    "状态栏.user.堕落度": "+10"
  },
  "记下": {
    "状态栏.user.堕落度描述": "逐渐受到诱惑，道德底线动摇"
  }
}
```

### 2. 女模好感度和堕落度更新

```json
// ❌ 错误：缺少两个描述字段
{
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15",
    "状态栏.女模.六花.关系.堕落度": "+20"
  }
}

// ✅ 正确：同时更新描述
{
  "调整": {
    "状态栏.女模.六花.关系.好感度": "+15",
    "状态栏.女模.六花.关系.堕落度": "+20"
  },
  "记下": {
    "状态栏.女模.六花.关系.好感度描述": "被摄影师的专业技能吸引",
    "状态栏.女模.六花.关系.堕落度描述": "金钱诱惑开始起效"
  }
}
```

### 3. 动情程度达到阈值（≥10）

```json
// ❌ 错误：没有生成生理字段
{
  "调整": {
    "状态栏.女模.六花.性爱.动情程度": "+15"  // 0 → 15，超过 10
  }
}

// ✅ 正确：同时生成生理字段
{
  "调整": {
    "状态栏.女模.六花.性爱.动情程度": "+15"
  },
  "记下": {
    "状态栏.女模.六花.性爱.乳房": "因兴奋而挺立，乳头泛红",
    "状态栏.女模.六花.性爱.小穴": "逐渐湿润，渴望被触碰",
    "状态栏.女模.六花.性爱.肛门": "因紧张而略微收缩"
  }
}
```

### 4. 持续更新动情程度（已≥10）

```json
// ✅ 正确：每次都要更新生理字段
{
  "调整": {
    "状态栏.女模.六花.性爱.动情程度": "+10"  // 15 → 25
  },
  "记下": {
    "状态栏.女模.六花.性爱.乳房": "乳头高度勃起，颜色更深",
    "状态栏.女模.六花.性爱.小穴": "大量分泌液，轻微收缩",
    "状态栏.女模.六花.性爱.肛门": "开始不由自主地收缩"
  }
}
```

---

## 推进选项示例

### ✅ 正确的推进选项结构

必须包含：
- 恰好 4 个选项
- 2 个积极方向（`"方向": "积极"`）
- 2 个消极方向（`"方向": "消极"`）
- 每个选项有 `emoji`、`选项`、`方向` 三个字段

```json
{
  "记下": {
    "状态栏.推进选项": [
      {
        "emoji": "📸",
        "选项": "继续拍摄，争取更好的效果",
        "方向": "积极"
      },
      {
        "emoji": "💬",
        "选项": "和六花深入沟通，了解她的想法",
        "方向": "积极"
      },
      {
        "emoji": "💰",
        "选项": "提高报酬诱惑她接受更大尺度",
        "方向": "消极"
      },
      {
        "emoji": "⏭️",
        "选项": "结束今天的拍摄，改天再来",
        "方向": "消极"
      }
    ]
  }
}
```

---

